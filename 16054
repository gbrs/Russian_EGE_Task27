'''
элементы находящиеся не ближе...
последовательность из N целых положительных чисел, все числа в последовательности различны.
Рассматриваются все пары различных элементов последовательности, находящихся на расстоянии не меньше чем 4
(порядок элементов в паре неважен). Необходимо определить количество таких пар, для которых произведение
элементов делится на 29

Произведение двух чисел делится на 29, если хотя бы один из сомножителей делится на 29.
При вводе чисел можно подсчитывать количество n29 чисел, кратных 29, не считая четырёх последних.
Сами числа, кроме четырёх последних, при этом можно не хранить.
Очередное считанное число будем рассматривать как возможный правый элемент искомой пары. Если
очередное считанное число делится на 29, то к ответу следует прибавить количество чисел до него
(не считая четырёх последних, включая считанное). Если очередное считанное число на 29 не делится,
то к ответу следует прибавить n29.
'''

# создаем Массив из 4 элементов (пока пустой)
s = 4
a = [0] * s

n = int(input())  # общее количество чисел

# вводим 4 первых элемента
for i in range(s):
    a[i] = int(input())

count = 0  # счетчик количества пар делящихся на 29
n29 = 0  # счетчик количества чисел кратных 29

for i in range(s, n):
    k = i % s  # текущий элемент Массива

    # убирая текущий элемент из Массива проверяем его на кратность 29
    if a[k] % 29 == 0:
        n29 = n29 + 1

    a_ = int(input())  # a_ - обозначение для нововводимого числа

    # если число кратно 29, то общее число пар увеличивается на количество чисел за вычетом четырех последних
    if a_ % 29 == 0:
        count = count + i - s + 1
    # если число не кратно 29,
    # то общее число пар увеличивается на количество чисел кратных 29 за вычетом четырех последних
    else:
        count = count + n29

    a[k] = a_  # заменяем текущий элемент Массива на нововведенное число

print(count)
