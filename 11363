'''
Имеется набор пар положительных целых чисел
Выбрать из каждой пары одно число так, чтобы сумма всех выбранных чисел
не делилась на 3 и при этом была максимально возможной.
Если получить требуемую сумму невозможно, в качестве ответа нужно выдать 0.
'''

'''
Будем брать из каждой пары самое большое число. 
Если полученная при этом сумма будет делиться на 3, её необходимо уменьшить. 
Для этого достаточно в одной из пар, где числа имеют разные остатки при делении на 3, 
заменить ранее выбранное число на другое число из той же пары. 
При этом разница между числами в паре должна быть минимально возможной. 
Если во всех парах оба числа имеют одинаковый остаток при делении на 3, вывести 0.
'''

aMax = 10000  # наибольшее возможное число в исходных данных

s = 0  # сумма выбранных чисел
D_min = aMax + 1  # минимальная разница не кратная 3 среди всех пар чисел

N = int(input())  # количество пар

for i in range(N):
    a, b = map(int, input().split())  # ввод пары чисел через пробел

    # находим max и min в паре
    if a > b:
        Max = a
        Min = b

    else:
        Max = b
        Min = a

    s = s + Max  # прибавляем max к сумме

    # если разность в паре минимальна и некратна 3, то запоминаем эту разность
    if (Max - Min) % 3 > 0 and (Max - Min < D_min):
        D_min = Max - Min

if s % 3 == 0:
    # если так и не было разности пар некратной 3, то D_min осталась равна 10001
    if D_min > aMax:
        s = 0  # мы же не можем подобрать сумму некратную 3
    else:
        s = s - D_min

print(s)
